/* Minimal Nextflow config used by nf-test when running tests
 * This config forces local execution and small resource requests suitable
 * for CI or local smoke-tests.
 */

process {
  executor = 'local'
  cpus = 1
  memory = '512 MB'
}

profiles {
  test {
    process.executor = 'local'
  }
}
// Provide minimal params used by the main config so reports resolve during tests
params {
  // write small reports into the local .nf-test folder used by nf-test
  outdir = "${projectDir}/.nf-test/reports"
}

// Override reporting files so they do not depend on params.outdir (which may be
// empty when nf-test passes an empty params.json). This prevents config parse
// errors about `report.params.outdir` during tests.
timeline {
  enabled = true
  file    = "${projectDir}/.nf-test/reports/timeline.html"
}
report {
  enabled = true
  file    = "${projectDir}/.nf-test/reports/report.html"
}
trace {
  enabled = true
  file    = "${projectDir}/.nf-test/reports/trace.txt"
}
dag {
  enabled = true
  file    = "${projectDir}/.nf-test/reports/dag.svg"
}
/*
========================================================================================
    Nextflow config file for running tests
========================================================================================
*/
